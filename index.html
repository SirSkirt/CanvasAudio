<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Canvas Audio</title>

  <!-- External deps -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <!-- App styles -->
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>

  <div class="toolbar">
    <div class="app-logo"><i class="fas fa-layer-group"></i> Canvas Audio</div>

    <div class="btn-group">
      <button id="mode-pat" class="active">PAT</button>
      <button id="mode-song">SONG</button>
    </div>

    <div class="btn-group">
      <button id="play-btn"><i class="fas fa-play"></i></button>
      <button id="stop-btn"><i class="fas fa-stop"></i></button>
    </div>

    <div style="font-family: monospace; font-size: 16px; color: var(--accent);">
      <i class="fas fa-heartbeat"></i>
      <input
        type="number"
        id="bpm-input"
        value="128"
        style="background:transparent; border:none; color:inherit; width:40px; text-align:right;"
      /> BPM
    </div>

    <button class="fullscreen-toggle" id="fullscreen-btn" title="Full Screen">
      <i class="fas fa-expand"></i> Full Screen
    </button>
  </div>

  <div class="workspace">
    <div class="sidebar">
      <div class="sidebar-section">
        <div class="sidebar-header">
          <span>Patterns</span>
          <i class="fas fa-plus" id="new-pattern-btn" title="New Pattern"></i>
        </div>
        <div class="resource-list" id="pattern-list"></div>
      </div>

      <div class="sidebar-section" style="border-top: 1px solid #000;">
        <div class="sidebar-header">
          <span>Audio Clips</span>
          <i class="fas fa-folder-open" id="import-audio-btn" title="Import Audio"></i>
        </div>
        <div class="resource-list" id="audio-list"></div>
      </div>
    </div>

    <div class="playlist-container">
      <div class="playlist-header" id="ruler"></div>

      <div class="playlist-scroll" id="playlist-scroll">
        <div id="playhead"><div class="playhead-triangle"></div></div>
        <div id="playlist-tracks"></div>
      </div>
    </div>
  </div>

  <div class="channel-rack">
    <div class="rack-header">
      <span id="rack-title">SEQUENCER</span>
      <button id="clear-pattern-btn" style="font-size:10px; padding:2px 8px;">Clear</button>
    </div>
    <div class="rack-scroll" id="rack-rows"></div>
  </div>

  <input type="file" id="audio-upload" accept="audio/*" style="display:none;" />

  <!-- App entrypoint -->
  <script type="module" src="js/main.js"></script>
</body>
</html>
